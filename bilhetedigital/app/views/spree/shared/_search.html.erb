<!-- Search Panel -->
<div class="search_panel trans_300">
  <div class="container">
    <div class="row">
      <div class="col">
        <div class="search_panel_content d-flex flex-row align-items-center justify-content-end">
          <form action="#">

            <% @taxons = @taxon && @taxon.parent ? @taxon.parent.children : Spree::Taxon.roots %>
            <%= form_tag spree.products_path, method: :get do %>
              <% cache [I18n.locale, @taxons] do %>
                <%= select_tag :taxon,
                      options_for_select([[t('spree.all_departments'), '']] +
                                            @taxons.map {|t| [t.name, t.id]},
                                            @taxon ? @taxon.id : params[:taxon]), 'aria-label' => 'Taxon',
                                            class: "search_button_style" %>
              <% end %>
              <%= search_field_tag :keywords, params[:keywords], class: "search_input", placeholder: t('spree.search') %>
              <%= submit_tag t('spree.search'), name: nil, class: "search_button_style" %>
            <% end %>
            
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
.search_button_style
{
	position: relative !important ;
	z-index: 10 !important ;
	font-size: 16px !important ;
	font-weight: 600 !important ;
	color: #1b1b1b !important ;
	background: none !important ;
	-webkit-transition: all 200ms ease !important ;
	-moz-transition: all 200ms ease !important ;
	-ms-transition: all 200ms ease !important ;
	-o-transition: all 200ms ease !important ;
	transition: all 200ms ease !important ;
}

.search_button_style:hover
{
	color: #FFFFFF;
}

.search_button_style::after
{
	content: '' !important ;
    position: absolute !important ;
    top: 0 !important ;
    left: 0 !important ;
    width: 150% !important ;
    height: 100% !important ;
    background: #1b1b1b !important ;
    z-index: 0 !important ;
    opacity: 0 !important ;
    -webkit-transform: rotate3d(0, 0, 1, -45deg) translate3d(0, -3em, 0) !important ;
    transform: rotate3d(0, 0, 1, -45deg) translate3d(0, -3em, 0) !important ;
    -webkit-transform-origin: 0% 100% !important ;
    transform-origin: 0% 100% !important ;
    -webkit-transition: -webkit-transform 0.3s, opacity 0.3s, background-color 0.3s !important ;
    transition: transform 0.3s, opacity 0.3s, background-color 0.3s !important ;
}
.search_button_style:hover::after
{
	opacity: 1 !important;
    -webkit-transform: rotate3d(0, 0, 1, 0deg)t !important ;
    transform: rotate3d(0, 0, 1, 0deg)t !important ;
    -webkit-transition-timing-function: cubic-bezier(0.2, 1, 0.3, 1)t !important ;
    transition-timing-function: cubic-bezier(0.2, 1, 0.3, 1)t !important ;
}

</style>